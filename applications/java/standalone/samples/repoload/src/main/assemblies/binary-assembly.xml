<assembly>
  <id>binary</id>
  <includeBaseDirectory>false</includeBaseDirectory>
  <fileSets>
    <fileSet>
      <directory>bin</directory>
      <outputDirectory>/</outputDirectory>
      <includes>
        <include>**/*.cmd</include>
        <include>**/*.sh</include>
      </includes>
    </fileSet>
    <fileSet>
      <directory>/</directory>
      <outputDirectory>/</outputDirectory>
      <includes>
        <include>bin/**/*</include>
      </includes>
      <excludes>
        <exclude>bin/**/*.cmd</exclude>
        <exclude>bin/**/*.sh</exclude>
      </excludes>
    </fileSet>
    <fileSet>
      <includes>
        <include>logs/**/*</include>
      </includes>
    </fileSet>
    <fileSet>
      <directory>target</directory>
      <outputDirectory>/</outputDirectory>
      <includes>
        <include>*.jar</include>
      </includes>
    </fileSet>
  </fileSets>
  <files>
    <file>
      <source>target/${project.artifactId}-${project.version}.jar</source>
      <destName>lib/${project.artifactId}-binary.jar</destName>
    </file>
  </files>

  <dependencySets>
    <dependencySet>
      <outputDirectory>lib</outputDirectory>
      <unpack>false</unpack>
      <scope>compile</scope>
      <excludes>
        <exclude>org.exoplatform.jcr:exo.jcr.applications.repoload</exclude>
        <!--exclude>javagroups:jgroups-all</exclude>
        <exclude>bcel:bcel</exclude>
        <exclude>mail:mail</exclude>
        <exclude>jsf:jsf-api</exclude>
        <exclude>javax.portlet:portlet-api</exclude>
        <exclude>mail:activation</exclude>
        <exclude>groovy:groovy-all-1.0-jsr</exclude>
        <exclude>xpp3:xpp3</exclude>
        <exclude>drools:drools-base</exclude>
        <exclude>drools:drools-smf</exclude>
        <exclude>javax.servlet:servlet-api</exclude>
        <exclude>janino:janino</exclude>
        <exclude>antlr:antlr</exclude>
        <exclude>xstream:xstream</exclude>
        <exclude>junit:junit</exclude>
        <exclude>drools:drools-smftest</exclude>
        <exclude>exo-platform:exo-platform.test.framework</exclude>
        <exclude>jmock:jmock</exclude>
        <exclude>commons-beanutils:commons-beanutils</exclude>
        <exclude>xerces:xercesImpl</exclude-->
      </excludes>
    </dependencySet>
  </dependencySets>
</assembly>
