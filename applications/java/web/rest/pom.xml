<project>
  <parent>
    <groupId>org.exoplatform.jcr</groupId>
    <artifactId>config</artifactId>
    <version>1.8.3.2</version>
  </parent>

  <modelVersion>4.0.0</modelVersion>
  <artifactId>exo.jcr.applications.rest</artifactId>
  <version>${org.exoplatform.jcr.version}</version>
  <packaging>war</packaging>
  <name>eXO JCR Rest web application</name>
  <url>http://www.exoplatform.org</url>
  <description>eXO JCR Rest web application</description>

  <dependencies>

    <dependency>
      <groupId>org.exoplatform.jcr</groupId>
      <artifactId>exo.jcr.framework.web</artifactId>
      <version>${org.exoplatform.jcr.version}</version>
      <scope>provided</scope>
    </dependency>

  </dependencies>

  <build>
    <finalName>rest</finalName>
    <plugins>
      <!--<plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-exo-plugin</artifactId>
        <extensions>true</extensions>
        <configuration>
          <sharedDir>${basedir}/patches</sharedDir>
          <sharedResourcesDir>${basedir}/patches</sharedResourcesDir>
          <deployJbossDir>${exo.directory.working}/exo-jboss/server/default/deploy</deployJbossDir>
          <deployWLDir>${exo.directory.working}/../0/deploy</deployWLDir>
          <domainWLDir>${exo.directory.working}/../exo-bea/user_projects/domains/base_domain</domainWLDir>
          <serverWLDir>${exo.directory.working}/../exo-bea/weblogic91</serverWLDir>
          <excludeProjects>
            junit, jmock, bcel, ehcache, xercesImpl, msv, servlet-api, jibx-bind, isorelax,
            relaxngDatatype, velocity-dep, saxpath, exo-platform.test.framework, xerces, jtidy,
            xmldb-api, castor, drools-smftest, jsp-api, xml-apis, xml-resolver, jaxen,
            commons-logging, xjavadoc, xdoclet-hibernate-module, xdoclet-xdoclet-module, xdoclet,
            commons-beanutils, commons-collections, commons-digester, jibx-run, xpp3,
            exo-weblogic-authproviders, exo-weblogic-loginmodule
          </excludeProjects>
          <includeToWarClasspath>exo-jcr.services.jcr.api, exo-jcr.services.jcr.rmi.api, jcr-rmi, exo-jcr.frameworks.web</includeToWarClasspath>
          <includeToEar>exo-jcr.services.jcr.api, exo-jcr.services.jcr.rmi.api, jcr-rmi</includeToEar>
          <jarsWLToLib>commons-logging, log4j, exo-weblogic-loginmodule</jarsWLToLib>
          <provsWL>exo-weblogic-authproviders</provsWL>
        </configuration>
      </plugin>-->
      <plugin>
           <artifactId>maven-war-plugin</artifactId>
           <configuration>
             <!-- This is broken in maven-war-plugin 2.0, works in 2.0.1 -->
             <warSourceExcludes>WEB-INF/lib/*.jar</warSourceExcludes>
             <archive>
               <manifest>
                 <addClasspath>false</addClasspath>
                 <classpathPrefix>lib/</classpathPrefix>
               </manifest>
             </archive>
           </configuration>
      </plugin>
    </plugins>
  </build>

</project>
