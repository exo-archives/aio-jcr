<project>
  <parent>
    <groupId>org.exoplatform.jcr</groupId>
    <artifactId>config</artifactId>
    <version>trunk</version>
  </parent>

  <modelVersion>4.0.0</modelVersion>
  <artifactId>exo.jcr.applications.rest</artifactId>
  <version>${org.exoplatform.jcr.version}</version>
  <packaging>war</packaging>
  <name>eXO JCR Rest web application</name>
  <url>http://www.exoplatform.org</url>
  <description>eXO JCR Rest web application</description>

  <dependencies>

    <dependency>
      <groupId>org.exoplatform.jcr</groupId>
      <artifactId>exo.jcr.framework.web</artifactId>
      <version>${org.exoplatform.jcr.version}</version>
      <scope>provided</scope>
    </dependency>

  </dependencies>

  <build>
    <finalName>rest</finalName>
    <plugins>

				<plugin>
					<groupId>org.apache.maven.plugins</groupId>
					<artifactId>maven-eclipse-plugin</artifactId>
					<version>2.5.1</version>
					<configuration>
						<projectNameTemplate>
							[artifactId]-[version]
						</projectNameTemplate>
						<wtpmanifest>true</wtpmanifest>
						<wtpapplicationxml>true</wtpapplicationxml>
						<wtpversion>2.0</wtpversion>
						<manifest>
							${basedir}/src/main/resources/META-INF/MANIFEST.MF
						</manifest>
					</configuration>
				</plugin>

      <plugin>
           <artifactId>maven-war-plugin</artifactId>
           <configuration>
             <!-- This is broken in maven-war-plugin 2.0, works in 2.0.1 -->
             <warSourceExcludes>WEB-INF/lib/*.jar</warSourceExcludes>
             <archive>
               <manifest>
                 <addClasspath>false</addClasspath>
                 <classpathPrefix>lib/</classpathPrefix>
               </manifest>
             </archive>
           </configuration>
      </plugin>
    </plugins>
  </build>

</project>
