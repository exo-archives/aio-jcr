<?xml version="1.0" encoding="UTF-8"?>
<testSuite
	name="Calculating the average time of execution of the main JCR API methods"
	xmlns="http://www.sun.com/japex/testSuite">

	<param name="japex.reportsDirectory" value="../reports" />
	<param name="japex.plotGroupSize" value="5" />
	<param name="japex.resultUnit" value="tps" />
	<param name="japex.warmupIterations" value="0" />
  <param name="japex.runTime" value="1" /><!-- 1sec -->

	<driver name="JCR driver32T">
    <param name="japex.classPath" value="../lib/*.jar" />
		<param name="japex.driverClass"	value="org.exoplatform.jcr.benchmark.JCRDriver" />
		<param name="japex.numberOfThreads" value="32" />

		<param name="jcr.initializer"	value="org.exoplatform.jcr.benchmark.init.EXOJCRStandaloneInitializer" />
		<param name="jcr.user" value="admin" />
		<param name="jcr.password" value="admin" />
		<param name="jcr.workspace" value="ws" />
		<param name="jcr.sessionPolicy" value="single" />

		<param name="exo.jaasConf" value="login.conf" />
		<param name="exo.containerConf"	value="../config/test-configuration-benchmark.xml" />

	</driver>
	
	<driver name="JCR driver64T">
    <param name="japex.classPath" value="../lib/*.jar" />
		<param name="japex.driverClass"	value="org.exoplatform.jcr.benchmark.JCRDriver" />
		<param name="japex.numberOfThreads" value="64" />

		<param name="jcr.initializer"	value="org.exoplatform.jcr.benchmark.init.EXOJCRStandaloneInitializer" />
		<param name="jcr.user" value="admin" />
		<param name="jcr.password" value="admin" />
		<param name="jcr.workspace" value="ws" />
		<param name="jcr.sessionPolicy" value="single" />

		<param name="exo.jaasConf" value="login.conf" />
		<param name="exo.containerConf"	value="../config/test-configuration-benchmark.xml" />

	</driver>
	
	<driver name="JCR driver128T">
    <param name="japex.classPath" value="../lib/*.jar" />
		<param name="japex.driverClass"	value="org.exoplatform.jcr.benchmark.JCRDriver" />
		<param name="japex.numberOfThreads" value="128" />

		<param name="jcr.initializer"	value="org.exoplatform.jcr.benchmark.init.EXOJCRStandaloneInitializer" />
		<param name="jcr.user" value="admin" />
		<param name="jcr.password" value="admin" />
		<param name="jcr.workspace" value="ws" />
		<param name="jcr.sessionPolicy" value="single" />

		<param name="exo.jaasConf" value="login.conf" />
		<param name="exo.containerConf"	value="../config/test-configuration-benchmark.xml" />

	</driver>

	<testCase name="AddNtFileWithMetadataTest">
	  <!--including addNode(), setProperty(), session.save()-->
		<param name="exo.testClass" value="org.exoplatform.jcr.benchmark.usecases.AddNtFileWithMetadataTest" />
		
		<param name="jcr.lengthOfFile" value="10240" /><!-- 10K -->
		<param name="jcr.lengthOfDcElementSetProperty" value="100" />
		<param name="jcr.countOfDcElementSetProperties" value="5" /><!-- no more -->

	</testCase>
	
	<testCase name="RandomReadNtFileWithMetadataTest">
	  <!--including getNode(), getProperty()-->
		<param name="exo.testClass" value="org.exoplatform.jcr.benchmark.usecases.RandomReadNtFileWithMetadataTest" />

		<param name="jcr.countOfNodes" value="10" />		
		<param name="jcr.lengthOfFile" value="10240" /><!-- 10K -->
		<param name="jcr.lengthOfDcElementSetProperty" value="100" />
		<param name="jcr.countOfDcElementSetProperties" value="5" />
		
	</testCase>
	
	<testCase name="TraverseInnerFoldersTest">
		<param name="exo.testClass" value="org.exoplatform.jcr.benchmark.usecases.TraverseInnerFoldersTest" />
		
		<param name="jcr.amountOfInnerFolders" value="5" />
		<param name="jcr.depthOfStructure" value="2" />
		
	</testCase>

</testSuite>
